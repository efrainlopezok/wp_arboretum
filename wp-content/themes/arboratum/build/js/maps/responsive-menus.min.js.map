{"version":3,"sources":["responsive-menus.js"],"names":["genesisMenuParams","genesis_responsive_menu","genesisMenusUnchecked","menuClasses","genesisMenus","menusToCombine","document","$","undefined","each","group","this","key","value","menuString","$menu","length","newString","addClass","replace","push","others","combine","genesisMenu","mainMenuButtonClass","subMenuButtonClass","responsiveMenuClass","_doResize","buttons","attr","_getDisplayValue","removeClass","_maybeClose","_superfish","$args","superfish","delay","animation","opacity","height","dropShadows","speed","_superfishToggle","menuToggleList","_getAllMenusArray","newValue","startLink","endLink","$item","toggleClass","link","_changeSkipLink","primaryMenu","combinedMenus","filter","index","find","appendTo","_getMenuSelectorString","hide","show","_combineMenus","_addClassID","$this","nav","next","match","_mainmenuToggle","_toggleAria","slideToggle","_submenuToggle","closest","siblings","slideUp","$id","element","getElementById","window","getComputedStyle","getPropertyValue","attribute","itemArray","map","join","menuList","valueOf","init","menuIconClass","subMenuIconClass","toggleButtons","menu","class","aria-expanded","aria-pressed","role","append","mainMenu","submenu","text","subMenu","before","menusToToggle","concat","_addMenuButtons","on","triggerHandler","ready","jQuery"],"mappings":"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","file":"../responsive-menus.min.js","sourcesContent":["/**\r\n * This script adds the accessibility-ready responsive menus Genesis Framework child themes.\r\n *\r\n * @author StudioPress\r\n * @link https://github.com/copyblogger/responsive-menus\r\n * @version 1.1.2\r\n * @license GPL-2.0+\r\n */\r\n\r\nvar genesisMenuParams      = typeof genesis_responsive_menu === 'undefined' ? '' : genesis_responsive_menu,\r\n\tgenesisMenusUnchecked  = genesisMenuParams.menuClasses,\r\n\tgenesisMenus           = {},\r\n\tmenusToCombine         = [];\r\n\r\n( function ( document, $, undefined ) {\r\n\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Validate the menus passed by the theme with what's being loaded on the page,\r\n\t * and pass the new and accurate information to our new data.\r\n\t * @param {genesisMenusUnchecked} Raw data from the localized script in the theme.\r\n\t * @return {array} genesisMenus array gets populated with updated data.\r\n\t * @return {array} menusToCombine array gets populated with relevant data.\r\n\t */\r\n\t$.each( genesisMenusUnchecked, function( group ) {\r\n\r\n\t\t// Mirror our group object to populate.\r\n\t\tgenesisMenus[group] = [];\r\n\r\n\t\t// Loop through each instance of the specified menu on the page.\r\n\t\t$.each( this, function( key, value ) {\r\n\r\n\t\t\tvar menuString = value,\r\n\t\t\t\t$menu      = $(value);\r\n\r\n\t\t\t// If there is more than one instance, append the index and update array.\r\n\t\t\tif ( $menu.length > 1 ) {\r\n\r\n\t\t\t\t$.each( $menu, function( key, value ) {\r\n\r\n\t\t\t\t\tvar newString = menuString + '-' + key;\r\n\r\n\t\t\t\t\t$(this).addClass( newString.replace('.','') );\r\n\r\n\t\t\t\t\tgenesisMenus[group].push( newString );\r\n\r\n\t\t\t\t\tif ( 'combine' === group ) {\r\n\t\t\t\t\t\tmenusToCombine.push( newString );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t} else if ( $menu.length == 1 ) {\r\n\r\n\t\t\t\tgenesisMenus[group].push( menuString );\r\n\r\n\t\t\t\tif ( 'combine' === group ) {\r\n\t\t\t\t\tmenusToCombine.push( menuString );\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t});\r\n\r\n\t// Make sure there is something to use for the 'others' array.\r\n\tif ( typeof genesisMenus.others == 'undefined' ) {\r\n\t\tgenesisMenus.others = [];\r\n\t}\r\n\r\n\t// If there's only one menu on the page for combining, push it to the 'others' array and nullify our 'combine' variable.\r\n\tif ( menusToCombine.length == 1 ) {\r\n\t\tgenesisMenus.others.push( menusToCombine[0] );\r\n\t\tgenesisMenus.combine = null;\r\n\t\tmenusToCombine = null;\r\n\t}\r\n\r\n\tvar genesisMenu         = {},\r\n\t\tmainMenuButtonClass = 'menu-toggle',\r\n\t\tsubMenuButtonClass  = 'sub-menu-toggle',\r\n\t\tresponsiveMenuClass = 'genesis-responsive-menu';\r\n\r\n\t// Initialize.\r\n\tgenesisMenu.init = function() {\r\n\r\n\t\t// Exit early if there are no menus to do anything.\r\n\t\tif ( $( _getAllMenusArray() ).length == 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar menuIconClass     = typeof genesisMenuParams.menuIconClass !== 'undefined' ? genesisMenuParams.menuIconClass : 'dashicons-before dashicons-menu',\r\n\t\t\tsubMenuIconClass  = typeof genesisMenuParams.subMenuIconClass !== 'undefined' ? genesisMenuParams.subMenuIconClass : 'dashicons-before dashicons-arrow-down-alt2',\r\n\t\t\ttoggleButtons     = {\r\n\t\t\t\tmenu : $( '<button />', {\r\n\t\t\t\t\t'class' : mainMenuButtonClass,\r\n\t\t\t\t\t'aria-expanded' : false,\r\n\t\t\t\t\t'aria-pressed' : false,\r\n\t\t\t\t\t'role' : 'button'\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.append( genesisMenuParams.mainMenu ),\r\n\t\t\t\tsubmenu : $( '<button />', {\r\n\t\t\t\t\t'class' : subMenuButtonClass,\r\n\t\t\t\t\t'aria-expanded' : false,\r\n\t\t\t\t\t'aria-pressed' : false,\r\n\t\t\t\t\t'role' : 'button'\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.append( $( '<span />', {\r\n\t\t\t\t\t\t'class' : 'screen-reader-text',\r\n\t\t\t\t\t\t'text' : genesisMenuParams.subMenu\r\n\t\t\t\t\t} ) )\r\n\t\t\t};\r\n\r\n\t\t// Add the responsive menu class to the active menus.\r\n\t\t_addResponsiveMenuClass();\r\n\r\n\t\t// Add the main nav button to the primary menu, or exit the plugin.\r\n\t\t_addMenuButtons( toggleButtons );\r\n\r\n\t\t// Setup additional classes.\r\n\t\t$( '.' + mainMenuButtonClass ).addClass( menuIconClass );\r\n\t\t$( '.' + subMenuButtonClass ).addClass( subMenuIconClass );\r\n\t\t$( '.' + mainMenuButtonClass ).on( 'click.genesisMenu-mainbutton', _mainmenuToggle ).each( _addClassID );\r\n\t\t$( '.' + subMenuButtonClass ).on( 'click.genesisMenu-subbutton', _submenuToggle );\r\n\t\t$( window ).on( 'resize.genesisMenu', _doResize ).triggerHandler( 'resize.genesisMenu' );\r\n\t};\r\n\r\n\t/**\r\n\t * Add menu toggle button to appropriate menus.\r\n\t * @param {toggleButtons} Object of menu buttons to use for toggles.\r\n\t */\r\n\tfunction _addMenuButtons( toggleButtons ) {\r\n\r\n\t\t// Apply sub menu toggle to each sub-menu found in the menuList.\r\n\t\t$( _getMenuSelectorString( genesisMenus ) ).find( '.sub-menu' ).before( toggleButtons.submenu );\r\n\r\n\r\n\t\tif ( menusToCombine !== null ) {\r\n\r\n\t\t\tvar menusToToggle = genesisMenus.others.concat( menusToCombine[0] );\r\n\r\n\t\t \t// Only add menu button the primary menu and navs NOT in the combine variable.\r\n\t\t \t$( _getMenuSelectorString( menusToToggle ) ).before( toggleButtons.menu );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Apply the main menu toggle to all menus in the list.\r\n\t\t\t$( _getMenuSelectorString( genesisMenus.others ) ).before( toggleButtons.menu );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Add the responsive menu class.\r\n\t */\r\n\tfunction _addResponsiveMenuClass() {\r\n\t\t$( _getMenuSelectorString( genesisMenus ) ).addClass( responsiveMenuClass );\r\n\t}\r\n\r\n\t/**\r\n\t * Execute our responsive menu functions on window resizing.\r\n\t */\r\n\tfunction _doResize() {\r\n\t\tvar buttons   = $( 'button[id^=\"genesis-mobile-\"]' ).attr( 'id' );\r\n\t\tif ( typeof buttons === 'undefined' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t_maybeClose( buttons );\r\n\t\t_superfishToggle( buttons );\r\n\t\t_changeSkipLink( buttons );\r\n\t\t_combineMenus( buttons );\r\n\t}\r\n\r\n\t/**\r\n\t * Add the nav- class of the related navigation menu as\r\n\t * an ID to associated button (helps target specific buttons outside of context).\r\n\t */\r\n\tfunction _addClassID() {\r\n\t\tvar $this = $( this ),\r\n\t\t\tnav   = $this.next( 'nav' ),\r\n\t\t\tid    = 'class';\r\n\r\n\t\t$this.attr( 'id', 'genesis-mobile-' + $( nav ).attr( id ).match( /nav-\\w*\\b/ ) );\r\n\t}\r\n\r\n\t/**\r\n\t * Combine our menus if the mobile menu is visible.\r\n\t * @params buttons\r\n\t */\r\n\tfunction _combineMenus( buttons ){\r\n\r\n\t\t// Exit early if there are no menus to combine.\r\n\t\tif ( menusToCombine == null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Split up the menus to combine based on order of appearance in the array.\r\n\t\tvar primaryMenu   = menusToCombine[0],\r\n\t\t\tcombinedMenus = $( menusToCombine ).filter( function(index) { if ( index > 0 ) { return index; } });\r\n\r\n\t\t// If the responsive menu is active, append items in 'combinedMenus' object to the 'primaryMenu' object.\r\n\t\tif ( 'none' !== _getDisplayValue( buttons ) ) {\r\n\r\n\t\t\t$.each( combinedMenus, function( key, value ) {\r\n\t\t\t\t$(value).find( '.menu > li' ).addClass( 'moved-item-' + value.replace( '.','' ) ).appendTo( primaryMenu + ' ul.genesis-nav-menu' );\r\n\t\t\t});\r\n\t\t\t$( _getMenuSelectorString( combinedMenus ) ).hide();\r\n\r\n\t\t} else {\r\n\r\n\t\t\t$( _getMenuSelectorString( combinedMenus ) ).show();\r\n\t\t\t$.each( combinedMenus, function( key, value ) {\r\n\t\t\t\t$( '.moved-item-' + value.replace( '.','' ) ).appendTo( value + ' ul.genesis-nav-menu' ).removeClass( 'moved-item-' + value.replace( '.','' ) );\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Action to happen when the main menu button is clicked.\r\n\t */\r\n\tfunction _mainmenuToggle() {\r\n\t\tvar $this = $( this );\r\n\t\t_toggleAria( $this, 'aria-pressed' );\r\n\t\t_toggleAria( $this, 'aria-expanded' );\r\n\t\t$this.toggleClass( 'activated' );\r\n\t\t$this.next( 'nav' ).slideToggle( 'fast' );\r\n\t}\r\n\r\n\t/**\r\n\t * Action for submenu toggles.\r\n\t */\r\n\tfunction _submenuToggle() {\r\n\r\n\t\tvar $this  = $( this ),\r\n\t\t\tothers = $this.closest( '.menu-item' ).siblings();\r\n\t\t_toggleAria( $this, 'aria-pressed' );\r\n\t\t_toggleAria( $this, 'aria-expanded' );\r\n\t\t$this.toggleClass( 'activated' );\r\n\t\t$this.next( '.sub-menu' ).slideToggle( 'fast' );\r\n\r\n\t\tothers.find( '.' + subMenuButtonClass ).removeClass( 'activated' ).attr( 'aria-pressed', 'false' );\r\n\t\tothers.find( '.sub-menu' ).slideUp( 'fast' );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Activate/deactivate superfish.\r\n\t * @params buttons\r\n\t */\r\n\tfunction _superfishToggle( buttons ) {\r\n\t\tvar _superfish = $( '.' + responsiveMenuClass + ' .js-superfish' ),\r\n\t\t\t$args      = 'destroy';\r\n\t\tif ( typeof _superfish.superfish !== 'function' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif ( 'none' === _getDisplayValue( buttons ) ) {\r\n\t\t\t$args = {\r\n\t\t\t\t'delay': 100,\r\n\t\t\t\t'animation': {'opacity': 'show', 'height': 'show'},\r\n\t\t\t\t'dropShadows': false,\r\n\t\t\t\t'speed': 'fast'\r\n\t\t\t};\r\n\t\t}\r\n\t\t_superfish.superfish( $args );\r\n\t}\r\n\r\n\t/**\r\n\t * Modify skip link to match mobile buttons.\r\n\t * @param buttons\r\n\t */\r\n\tfunction _changeSkipLink( buttons ) {\r\n\r\n\t\t// Start with an empty array.\r\n\t\tvar menuToggleList = _getAllMenusArray();\r\n\r\n\t\t// Exit out if there are no menu items to update.\r\n\t\tif ( ! $( menuToggleList ).length > 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t$.each( menuToggleList, function ( key, value ) {\r\n\r\n\t\t\tvar newValue  = value.replace( '.', '' ),\r\n\t\t\t\tstartLink = 'genesis-' + newValue,\r\n\t\t\t\tendLink   = 'genesis-mobile-' + newValue;\r\n\r\n\t\t\tif ( 'none' == _getDisplayValue( buttons ) ) {\r\n\t\t\t\tstartLink = 'genesis-mobile-' + newValue;\r\n\t\t\t\tendLink   = 'genesis-' + newValue;\r\n\t\t\t}\r\n\r\n\t\t\tvar $item = $( '.genesis-skip-link a[href=\"#' + startLink + '\"]' );\r\n\r\n\t\t\tif ( menusToCombine !== null && value !== menusToCombine[0] ) {\r\n\t\t\t\t$item.toggleClass( 'skip-link-hidden' );\r\n\t\t\t}\r\n\r\n\t\t\tif ( $item.length > 0 ) {\r\n\t\t\t\tvar link  = $item.attr( 'href' );\r\n\t\t\t\t\tlink  = link.replace( startLink, endLink );\r\n\r\n\t\t\t\t$item.attr( 'href', link );\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Close all the menu toggles if buttons are hidden.\r\n\t * @param buttons\r\n\t */\r\n\tfunction _maybeClose( buttons ) {\r\n\t\tif ( 'none' !== _getDisplayValue( buttons ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t$( '.' + mainMenuButtonClass + ', .' + responsiveMenuClass + ' .sub-menu-toggle' )\r\n\t\t\t.removeClass( 'activated' )\r\n\t\t\t.attr( 'aria-expanded', false )\r\n\t\t\t.attr( 'aria-pressed', false );\r\n\r\n\t\t$( '.' + responsiveMenuClass + ', ' + responsiveMenuClass + ' .sub-menu' )\r\n\t\t\t.attr( 'style', '' );\r\n\t}\r\n\r\n\t/**\r\n\t * Generic function to get the display value of an element.\r\n\t * @param  {id} $id ID to check\r\n\t * @return {string}     CSS value of display property\r\n\t */\r\n\tfunction _getDisplayValue( $id ) {\r\n\t\tvar element = document.getElementById( $id ),\r\n\t\t\tstyle   = window.getComputedStyle( element );\r\n\t\treturn style.getPropertyValue( 'display' );\r\n\t}\r\n\r\n\t/**\r\n\t * Toggle aria attributes.\r\n\t * @param  {button} $this     passed through\r\n\t * @param  {aria-xx} attribute aria attribute to toggle\r\n\t * @return {bool}           from _ariaReturn\r\n\t */\r\n\tfunction _toggleAria( $this, attribute ) {\r\n\t\t$this.attr( attribute, function( index, value ) {\r\n\t\t\treturn 'false' === value;\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Helper function to return a comma separated string of menu selectors.\r\n\t * @param {itemArray} Array of menu items to loop through.\r\n\t * @param {ignoreSecondary} boolean of whether to ignore the 'secondary' menu item.\r\n\t * @return {string} Comma-separated string.\r\n\t */\r\n\tfunction _getMenuSelectorString( itemArray ) {\r\n\r\n\t\tvar itemString = $.map( itemArray, function( value, key ) {\r\n\t\t\treturn value;\r\n\t\t});\r\n\r\n\t\treturn itemString.join( ',' );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Helper function to return a group array of all the menus in\r\n\t * both the 'others' and 'combine' arrays.\r\n\t * @return {array} Array of all menu items as class selectors.\r\n\t */\r\n\tfunction _getAllMenusArray() {\r\n\r\n\t\t// Start with an empty array.\r\n\t\tvar menuList = [];\r\n\r\n\t\t// If there are menus in the 'menusToCombine' array, add them to 'menuList'.\r\n\t\tif ( menusToCombine !== null ) {\r\n\r\n\t\t\t$.each( menusToCombine, function( key, value ) {\r\n\t\t\t\tmenuList.push( value.valueOf() );\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t// Add menus in the 'others' array to 'menuList'.\r\n\t\t$.each( genesisMenus.others, function( key, value ) {\r\n\t\t\tmenuList.push( value.valueOf() );\r\n\t\t});\r\n\r\n\t\tif ( menuList.length > 0 ) {\r\n\t\t\treturn menuList;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t$(document).ready(function () {\r\n\r\n\t\tif ( _getAllMenusArray() !== null ) {\r\n\r\n\t\t\tgenesisMenu.init();\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n})( document, jQuery );\r\n"]}