{"version":3,"sources":["jquery.sticky.js"],"names":["factory","define","amd","module","exports","require","jQuery","$","slice","Array","prototype","splice","defaults","topSpacing","bottomSpacing","className","wrapperClassName","center","getWidthFrom","widthFromWrapper","responsiveWidth","zIndex","$window","window","$document","document","sticked","windowHeight","height","scroller","scrollTop","documentHeight","dwh","extra","i","l","length","s","etse","stickyWrapper","offset","top","css","stickyElement","outerHeight","currentTop","width","position","z-index","parent","removeClass","trigger","newWidth","newTop","padding","innerWidth","addClass","stickyWrapperContainer","resizer","methods","init","options","this","each","o","extend","stickyId","attr","wrapperId","wrapper","wrapAll","outerWidth","marginLeft","marginRight","float","push","setWrapperHeight","setupChangeListeners","element","MutationObserver","mutations","addedNodes","removedNodes","observe","subtree","childList","addEventListener","attachEvent","update","unstick","unstickyElement","removeIdx","get","call","unwrap","fn","sticky","method","apply","arguments","error","setTimeout"],"mappings":"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","file":"../jquery.sticky.min.js","sourcesContent":["// Sticky Plugin v1.0.4 for jQuery\r\n// =============\r\n// Author: Anthony Garand\r\n// Improvements by German M. Bravo (Kronuz) and Ruud Kamphuis (ruudk)\r\n// Improvements by Leonardo C. Daronco (daronco)\r\n// Created: 02/14/2011\r\n// Date: 07/20/2015\r\n// Website: http://stickyjs.com/\r\n// Description: Makes an element on the page stick on the screen as you scroll\r\n//              It will only set the 'top' and 'position' of your element, you\r\n//              might need to adjust the width in some cases.\r\n\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(['jquery'], factory);\r\n    } else if (typeof module === 'object' && module.exports) {\r\n        // Node/CommonJS\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        // Browser globals\r\n        factory(jQuery);\r\n    }\r\n}(function ($) {\r\n    var slice = Array.prototype.slice; // save ref to original slice()\r\n    var splice = Array.prototype.splice; // save ref to original slice()\r\n\r\n  var defaults = {\r\n      topSpacing: 0,\r\n      bottomSpacing: 0,\r\n      className: 'is-sticky',\r\n      wrapperClassName: 'sticky-wrapper',\r\n      center: false,\r\n      getWidthFrom: '',\r\n      widthFromWrapper: true, // works only when .getWidthFrom is empty\r\n      responsiveWidth: false,\r\n      zIndex: 'inherit'\r\n    },\r\n    $window = $(window),\r\n    $document = $(document),\r\n    sticked = [],\r\n    windowHeight = $window.height(),\r\n    scroller = function() {\r\n      var scrollTop = $window.scrollTop(),\r\n        documentHeight = $document.height(),\r\n        dwh = documentHeight - windowHeight,\r\n        extra = (scrollTop > dwh) ? dwh - scrollTop : 0;\r\n\r\n      for (var i = 0, l = sticked.length; i < l; i++) {\r\n        var s = sticked[i],\r\n          elementTop = s.stickyWrapper.offset().top,\r\n          etse = elementTop - s.topSpacing - extra;\r\n\r\n        //update height in case of dynamic content\r\n        s.stickyWrapper.css('height', s.stickyElement.outerHeight());\r\n\r\n        if (scrollTop <= etse) {\r\n          if (s.currentTop !== null) {\r\n            s.stickyElement\r\n              .css({\r\n                'width': '',\r\n                'position': '',\r\n                'top': '',\r\n                'z-index': ''\r\n              });\r\n            s.stickyElement.parent().removeClass(s.className);\r\n            s.stickyElement.trigger('sticky-end', [s]);\r\n            s.currentTop = null;\r\n          }\r\n        }\r\n        else {\r\n          var newTop = documentHeight - s.stickyElement.outerHeight()\r\n            - s.topSpacing - s.bottomSpacing - scrollTop - extra;\r\n          if (newTop < 0) {\r\n            newTop = newTop + s.topSpacing;\r\n          } else {\r\n            newTop = s.topSpacing;\r\n          }\r\n          if (s.currentTop !== newTop) {\r\n            var newWidth;\r\n            if (s.getWidthFrom) {\r\n                padding =  s.stickyElement.innerWidth() - s.stickyElement.width();\r\n                newWidth = $(s.getWidthFrom).width() - padding || null;\r\n            } else if (s.widthFromWrapper) {\r\n                newWidth = s.stickyWrapper.width();\r\n            }\r\n            if (newWidth == null) {\r\n                newWidth = s.stickyElement.width();\r\n            }\r\n            s.stickyElement\r\n              .css('width', newWidth)\r\n              .css('position', 'fixed')\r\n              .css('top', newTop)\r\n              .css('z-index', s.zIndex);\r\n\r\n            s.stickyElement.parent().addClass(s.className);\r\n\r\n            if (s.currentTop === null) {\r\n              s.stickyElement.trigger('sticky-start', [s]);\r\n            } else {\r\n              // sticky is started but it have to be repositioned\r\n              s.stickyElement.trigger('sticky-update', [s]);\r\n            }\r\n\r\n            if (s.currentTop === s.topSpacing && s.currentTop > newTop || s.currentTop === null && newTop < s.topSpacing) {\r\n              // just reached bottom || just started to stick but bottom is already reached\r\n              s.stickyElement.trigger('sticky-bottom-reached', [s]);\r\n            } else if(s.currentTop !== null && newTop === s.topSpacing && s.currentTop < newTop) {\r\n              // sticky is started && sticked at topSpacing && overflowing from top just finished\r\n              s.stickyElement.trigger('sticky-bottom-unreached', [s]);\r\n            }\r\n\r\n            s.currentTop = newTop;\r\n          }\r\n\r\n          // Check if sticky has reached end of container and stop sticking\r\n          var stickyWrapperContainer = s.stickyWrapper.parent();\r\n          var unstick = (s.stickyElement.offset().top + s.stickyElement.outerHeight() >= stickyWrapperContainer.offset().top + stickyWrapperContainer.outerHeight()) && (s.stickyElement.offset().top <= s.topSpacing);\r\n\r\n          if( unstick ) {\r\n            s.stickyElement\r\n              .css('position', 'absolute')\r\n              .css('top', '')\r\n              .css('bottom', 0)\r\n              .css('z-index', '');\r\n          } else {\r\n            s.stickyElement\r\n              .css('position', 'fixed')\r\n              .css('top', newTop)\r\n              .css('bottom', '')\r\n              .css('z-index', s.zIndex);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    resizer = function() {\r\n      windowHeight = $window.height();\r\n\r\n      for (var i = 0, l = sticked.length; i < l; i++) {\r\n        var s = sticked[i];\r\n        var newWidth = null;\r\n        if (s.getWidthFrom) {\r\n            if (s.responsiveWidth) {\r\n                newWidth = $(s.getWidthFrom).width();\r\n            }\r\n        } else if(s.widthFromWrapper) {\r\n            newWidth = s.stickyWrapper.width();\r\n        }\r\n        if (newWidth != null) {\r\n            s.stickyElement.css('width', newWidth);\r\n        }\r\n      }\r\n    },\r\n    methods = {\r\n      init: function(options) {\r\n        return this.each(function() {\r\n          var o = $.extend({}, defaults, options);\r\n          var stickyElement = $(this);\r\n\r\n          var stickyId = stickyElement.attr('id');\r\n          var wrapperId = stickyId ? stickyId + '-' + defaults.wrapperClassName : defaults.wrapperClassName;\r\n          var wrapper = $('<div></div>')\r\n            .attr('id', wrapperId)\r\n            .addClass(o.wrapperClassName);\r\n\r\n          stickyElement.wrapAll(function() {\r\n            if ($(this).parent(\"#\" + wrapperId).length == 0) {\r\n                    return wrapper;\r\n            }\r\n});\r\n\r\n          var stickyWrapper = stickyElement.parent();\r\n\r\n          if (o.center) {\r\n            stickyWrapper.css({width:stickyElement.outerWidth(),marginLeft:\"auto\",marginRight:\"auto\"});\r\n          }\r\n\r\n          if (stickyElement.css(\"float\") === \"right\") {\r\n            stickyElement.css({\"float\":\"none\"}).parent().css({\"float\":\"right\"});\r\n          }\r\n\r\n          o.stickyElement = stickyElement;\r\n          o.stickyWrapper = stickyWrapper;\r\n          o.currentTop    = null;\r\n\r\n          sticked.push(o);\r\n\r\n          methods.setWrapperHeight(this);\r\n          methods.setupChangeListeners(this);\r\n        });\r\n      },\r\n\r\n      setWrapperHeight: function(stickyElement) {\r\n        var element = $(stickyElement);\r\n        var stickyWrapper = element.parent();\r\n        if (stickyWrapper) {\r\n          stickyWrapper.css('height', element.outerHeight());\r\n        }\r\n      },\r\n\r\n      setupChangeListeners: function(stickyElement) {\r\n        if (window.MutationObserver) {\r\n          var mutationObserver = new window.MutationObserver(function(mutations) {\r\n            if (mutations[0].addedNodes.length || mutations[0].removedNodes.length) {\r\n              methods.setWrapperHeight(stickyElement);\r\n            }\r\n          });\r\n          mutationObserver.observe(stickyElement, {subtree: true, childList: true});\r\n        } else {\r\n          if (window.addEventListener) {\r\n            stickyElement.addEventListener('DOMNodeInserted', function() {\r\n              methods.setWrapperHeight(stickyElement);\r\n            }, false);\r\n            stickyElement.addEventListener('DOMNodeRemoved', function() {\r\n              methods.setWrapperHeight(stickyElement);\r\n            }, false);\r\n          } else if (window.attachEvent) {\r\n            stickyElement.attachEvent('onDOMNodeInserted', function() {\r\n              methods.setWrapperHeight(stickyElement);\r\n            });\r\n            stickyElement.attachEvent('onDOMNodeRemoved', function() {\r\n              methods.setWrapperHeight(stickyElement);\r\n            });\r\n          }\r\n        }\r\n      },\r\n      update: scroller,\r\n      unstick: function(options) {\r\n        return this.each(function() {\r\n          var that = this;\r\n          var unstickyElement = $(that);\r\n\r\n          var removeIdx = -1;\r\n          var i = sticked.length;\r\n          while (i-- > 0) {\r\n            if (sticked[i].stickyElement.get(0) === that) {\r\n                splice.call(sticked,i,1);\r\n                removeIdx = i;\r\n            }\r\n          }\r\n          if(removeIdx !== -1) {\r\n            unstickyElement.unwrap();\r\n            unstickyElement\r\n              .css({\r\n                'width': '',\r\n                'position': '',\r\n                'top': '',\r\n                'float': '',\r\n                'z-index': ''\r\n              })\r\n            ;\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n  // should be more efficient than using $window.scroll(scroller) and $window.resize(resizer):\r\n  if (window.addEventListener) {\r\n    window.addEventListener('scroll', scroller, false);\r\n    window.addEventListener('resize', resizer, false);\r\n  } else if (window.attachEvent) {\r\n    window.attachEvent('onscroll', scroller);\r\n    window.attachEvent('onresize', resizer);\r\n  }\r\n\r\n  $.fn.sticky = function(method) {\r\n    if (methods[method]) {\r\n      return methods[method].apply(this, slice.call(arguments, 1));\r\n    } else if (typeof method === 'object' || !method ) {\r\n      return methods.init.apply( this, arguments );\r\n    } else {\r\n      $.error('Method ' + method + ' does not exist on jQuery.sticky');\r\n    }\r\n  };\r\n\r\n  $.fn.unstick = function(method) {\r\n    if (methods[method]) {\r\n      return methods[method].apply(this, slice.call(arguments, 1));\r\n    } else if (typeof method === 'object' || !method ) {\r\n      return methods.unstick.apply( this, arguments );\r\n    } else {\r\n      $.error('Method ' + method + ' does not exist on jQuery.sticky');\r\n    }\r\n  };\r\n  $(function() {\r\n    setTimeout(scroller, 0);\r\n  });\r\n}));\r\n"]}